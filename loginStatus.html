<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./js/browser.min.js"></script>
    <script src="./js/polyfill.min.js"></script>
    <link rel="stylesheet" href="./css/chunk.css">
    <link rel="stylesheet" href="./css/header.css">
    <link rel="stylesheet" href="./css/element.css">
    <script src="./js/vue.min.js"></script>
    <script src="./js/element.js"></script>
    <script src="./js/jquery-3.5.1.min.js"></script>
    <script src="./js/jquery.cookie.js"></script>
    <title>Document</title>
</head>

<body>
    <div id="app">
        <div class="loginStatus">
            <p v-if="status">
                <span style="cursor: pointer;" @click="registerFn">注册</span>
                <span>/</span>
                <span style="cursor: pointer;" @click="loginFn">登录</span>
            </p>
            <p v-else>
                <span>欢迎您：</span>
                <span @click="goPersonalFn" style="cursor: pointer;">andy</span>
            </p>
            <div class="inputBox">
                <el-input placeholder="输入关键字" v-model="searchContent">
                    <el-button slot="append" style="color:#909399" @click="goSearch">搜索</el-button>
                </el-input>
            </div>
        </div>
    </div>

    <script type="text/babel">
        new Vue({
            el: '#app',
            data() {
                return {
                    searchContent: '',   //头部搜索信息
                    status: true,  //是否登录
                };
            },
            computed: {},
            creted() { },
            components: {
            },
            mounted() {
                if ($.cookie('token')) {
                    this.status = false
                } else {
                    this.status = true
                }
            },
            watch() {

            },
            methods: {
                goSearch() {
                    if (this.searchContent) {
                        // window.location.href = `searchPage.html?id=${this.searchContent}`;
                        window.open(`searchPage.html?id=${this.searchContent}`)
                    } else {
                        this.$message.error('请输入所要搜索的信息！');
                    }

                },
                //登陆页面
                loginFn() {
                    // window.location.href = 'login.html'
                    window.open('login.html')
                },
                //注册页面
                registerFn() {
                    window.open('register.html')
                },
                goPersonalFn(){
                    window.open("personal.html")
                }
            }

        })
    </script>
</body>

</html>